<% javascript_response do %>
  (function(element){
		element.morph({
			change: function(){
		    element.update("<%= raw escape_javascript(render "form", :task => @task) %>");
			},
			after: function(){
				element.highlight();
				element.down('textarea').focus();
			}
		});
  })($('task_<%= @task.id %>') || $('task_content'));
<% end %>